'use strict';mix_d("SBXGwentCards__multi-brand-creative-desktop:multi-brand-creative-desktop__eqi-O91n","exports @c/dom @c/aui-utils @c/browser-operations tslib @c/pagemarker @c/logger @c/metrics @c/aui-feature-detect @p/a-ajax @c/aui-modal @p/A @c/scoped-dom @c/aui-untrusted-ajax".split(" "),function(qa,Xa,ra,da,y,Ya,Za,D,$a,ab,bb,cb,db,eb){function G(a){return a&&"object"===typeof a&&"default"in a?a:{"default":a}}function H(a,b){return function(c){c=w(a,c);return b?b(c):c}}function sa(a,b,c,d){b?
(x("Send"+a+"Success"),c&&x("Send"+a+"Success_"+c),d&&x("Send"+a+"Success_"+d)):(x("Send"+a+"Failure"),c&&x("Send"+a+"Failure_"+c),d&&x("Send"+a+"Failure_"+d))}function ta(a){return Array.isArray(a)?a.map(function(b){return y.__assign(y.__assign({},b),{width:0,height:0})}):{url:a.url,width:0,height:0}}var I=G(Xa),ua=G(ra),ea=G(da),fb=G(Ya),Q=G(Za),va=G(D),gb=G($a),hb=G(ab),wa=G(bb),R=G(cb),ib=G(db),jb=G(eb),J,U;(function(a){a.Cornerstone="CSTONE";a.Axiom="AXIOM"})(U||(U={}));var kb=(J={},J.e="basebe.ClientErrors.4",
J.i="basebe.Impressions.6",J.c="basebe.Clicks.5",J.s="basebe.Swipes.5",J.v="basebe.Viewabilities.5",J.vc="basebe.VisualCompleteness.7",J.ss="basebe.slideshow.1",J.ia="basebe.ImpressionsV2.2",J.iv2="basebe.ImpressionsV3.1",J),xa=function(a,b){return"matches"in a?a.matches(b):"msMatchesSelector"in a?a.msMatchesSelector(b):"webkitMatchesSelector"in a?a.webkitMatchesSelector(b):0<=z(b,K().body).indexOf(a)},v=function(a,b){b=b||I["default"].cardRoot;return!a||xa(b,a)?b:b.querySelector(a)},z=function(a,
b){return Array.prototype.slice.call((b||I["default"].cardRoot).querySelectorAll(a))},w=function(a,b){return(b=v("["+a+"]",b))?b.getAttribute(a):null},fa=function(a,b){for(;b&&b!==I["default"].cardRoot;){if(xa(b,a))return b;b=b.parentElement}return null},ya=function(a,b){return(b=fa("["+a+"]",b))?b.getAttribute(a):null},Y=function(a){if(a)return a=a.getBoundingClientRect(),{left:a.left,right:a.right,top:a.top,bottom:a.bottom};a=K().defaultView;return{left:0,top:0,right:a.innerWidth,bottom:a.innerHeight}},
K=function(){return v().ownerDocument},O=function(a,b){Q["default"].log(a,"ERROR",b||"SBX_GWENT")},za=function(a){var b;a=/\?([^#]+)/.exec(a);if(!a)return[];a=a[1].split("&");var c=null;try{for(var d=y.__values(a),e=d.next();!e.done;e=d.next()){var f=e.value;if(0===f.indexOf("ref_=")){c=f;break}}}catch(h){var g={error:h}}finally{try{e&&!e.done&&(b=d.return)&&b.call(d)}finally{if(g)throw g.error;}}return c?(g=c.split("=").pop()||"")?g.split("_"):[]:[]},Aa=function(a,b,c){var d={};if(5<c.length){d.el=
c.pop()||null;a:{var e;try{for(var f=y.__values(c),g=f.next();!g.done;g=f.next()){var h=g.value;if(/^\d+$/.test(h)){var l=h;break a}}}catch(k){var m={error:k}}finally{try{g&&!g.done&&(e=f.return)&&e.call(f)}finally{if(m)throw m.error;}}l=null}d.index=l;d.asin=ya("data-asin",b);d.type=ya("data-avar",b)}a.c(d,b)},lb=function(a,b){var c=za(b.href);Aa(a,b,c)},mb=function(a,b){var c=K().defaultView,d=function(e){2!==e.button&&(lb(a,b),e.metaKey||e.altKey||e.shiftKey||e.ctrlKey||1===e.button||"_blank"===
b.target||(e.preventDefault(),c.setTimeout(function(){c.open(b.href,b.target||"_top")},50)))};b.addEventListener("click",d);b.addEventListener("auxclick",d)},Ba=function(a,b,c){var d=v("[data-active]"),e=(null===d||void 0===d?void 0:d.dataset)||{};d=e.paginationId;e=e.index;b.c({el:"sb-slideshow-arrow",type:a,asin:void 0===d?null:d,index:void 0===e?null:e},c)},ob=function(a,b){z("[href]",b).filter(function(c){return!c.classList.contains("a-carousel-button")}).forEach(function(c){mb(a,c)});z(".amazon-follow",
b).forEach(function(c){c.addEventListener("click",function(){var d=za("?&ref_="+c.getAttribute("data-ref"));Aa(a,c,d)})});z('[data-mix-operations="handleNext"]').forEach(function(c){c.addEventListener("click",function(){Ba("next",a,b)})});z('[data-mix-operations="handlePrev"]').forEach(function(c){c.addEventListener("click",function(){Ba("prev",a,b)})});z('[data-mix-operations="handlePaginationClick"]').forEach(function(c){c.addEventListener("click",function(){var d=c.dataset||{},e=d.paginationId;
d=d.index;a.c({el:"sb-slideshow-pagination",type:"pagination",index:void 0===d?null:d,asin:void 0===e?null:e},b)})});z('[data-mix-operations="hotSpotClick"]').forEach(function(c){c.addEventListener("click",function(){var d,e=(c.dataset||{}).asinid;e=void 0===e?null:e;var f=c.style,g=f.left;f=f.top;var h=v('[data-asin="'+e+'"]')||void 0;h=((null===(d=v("[data-asinindex]",h))||void 0===d?void 0:d.dataset)||{}).asinindex;d=void 0===h?null:h;g={x:parseFloat(g),y:parseFloat(f)};g=JSON.stringify(g);e=y.__assign({type:g},
{asin:e,el:"hotspot",index:d});a.c(e,c)})});nb(a)},nb=function(a){var b=v('[class*="seeProducts"]'),c=v('[data-mix-operations="expandHandler"]'),d=z('[class*="sidebarButton"]'),e=[b,c].concat(d);if(e.length){var f=[];e.forEach(function(h){if(h){var l=h instanceof HTMLButtonElement&&!w("data-index",h)?"seeProducts":h instanceof HTMLButtonElement?"asinSidebar":"shoppableImageCollapsed",m={asin:h.dataset.asinid||null,index:h.dataset.index||null,el:l};l=function(){if(h){var k=y.__assign({type:"collapsed"},
m);a.c(k,h);g(e,f)}};f.push(l);h.addEventListener("click",l)}});var g=function(h,l){h.forEach(function(m,k){m&&m.removeEventListener("click",l[k])})}}},ha=H("data-card-metrics-id",function(a){return(a||"").split("_")[0]}),ia=H("data-var"),pb=H("data-rid"),qb=H("data-cid"),rb=H("data-iid"),Ca=H("data-aid"),Da=H("data-aidx"),sb=H("data-idt",function(a){switch(a){case U.Axiom:return U.Axiom;default:return U.Cornerstone}}),tb=H("data-rctx",function(a){return a?JSON.parse(a):{sid:"",cid:"",mid:""}}),ja=
H("data-wl",function(a){return a?a.split(","):[]}),ub=H("data-slot"),ka=H("data-ts"),la=function(){var a=K().defaultView;return a.innerWidth+"x"+a.innerHeight},ma=function(a){return{id:w("data-asin",a),prime:!!v(".a-icon-prime",a),price:!!v(".a-price",a),savings:!!v('.a-price[data-a-strike="true"]',a),rating:w("data-rt",a),badge:w("data-deal",a)}},Z=function(a,b,c){return a>=b&&a<=c},Ea=function(a,b){var c=K().defaultView,d,e=function(){d||(d=c.setTimeout(a,b))};e.cancel=function(){c.clearTimeout(d);
d=0};return e},vb=function(a,b){void 0===b&&(b=0);return function(){ua["default"].delay(a,b)}},Fa=function(a,b,c){var d=(c||{}).ms||25,e=(c||{}).el||K().defaultView,f=ua["default"].throttle(b,d);e.addEventListener(a,f);return function(){e.removeEventListener(a,f)}},aa=function(a,b){return Fa("resize",a,b)},Ga=function(a,b){return Fa("scroll",a,b)},S={},Ia=function(a,b){var c=a.getBoundingClientRect(),d=c.width*c.height;a=w("data-view-pixel",a);if(d&&a){var e=c.top,f=c.bottom,g=c.left,h=c.right,l=
K().defaultView;c=l.innerHeight;g=Ha(g,h,l.innerWidth);e=Ha(e,f,c);d=g*e/d;S[a]||(S[a]={percentageViewed:.5,startTimeInView:0});a=S[a];a.percentageViewed=d;if(.5<=d){if(0===a.startTimeInView||1E3<Date.now()-a.startTimeInView)a.startTimeInView=Date.now();if(b)b();else return!0}else if(a.startTimeInView=0,b)b.cancel();else return!0}},Ha=function(a,b,c){return 0<=a?Math.max(Math.min(c-a,b-a),0):0<b?Math.max(Math.min(Math.min(b,c),b-a),0):0},Ja=function(a){var b,c,d=Date.now()-(null===(b=S[a])||void 0===
b?NaN:b.startTimeInView);b=null===(c=S[a])||void 0===c?void 0:c.percentageViewed;if(d&&b)if(c="/"===a.substr(-1)?a+"v/":a+"/v/",a=JSON.stringify({v:{def:"iab",event:"VIEWED",p:Math.round(100*S[a].percentageViewed),t:parseFloat((d/1E3).toFixed(3))},programType:"SBC"}),"function"===typeof window.fetch)fetch(c+encodeURI(a),{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:a}).then(function(f){f.ok||0===f.status||Q["default"].log(f.status+" "+f.statusText,"ERROR","sbx-ce-vcpm-fetch");
x("PixelClientCallSuccess")}).catch(function(f){x("PixelClientCallFailure");Q["default"].log(f,"ERROR","sbx-ce-vcpm-fetch")});else{var e=new XMLHttpRequest;e.open("POST",c+encodeURI(a));e.setRequestHeader("Content-Type","application/json");e.onreadystatechange=function(){4===e.readyState&&(200!==e.status?Q["default"].log(e.status+" "+e.statusText,"ERROR","sbx-ce-vcpm-fetch"):x("PixelClientCallSuccess"))};e.onerror=function(){x("PixelClientCallFailure");Q["default"].log("XMLHttpRequest error from old browser",
"ERROR","sbx-ce-vcpm-fetch")};e.send(a)}else d||x("PixelClientCallMissingTimeInView"),b||x("PixelClientCallMissingPercentageInView")},wb=function(a,b){var c=function(){Ia(b?b:v(),d)},d=Ea(function(){var g=w("data-view-pixel",b?b:v());g&&(Ja(g),g=v("[data-view-pixel]"),null===g||void 0===g?void 0:g.removeAttribute("data-view-pixel"));e();f();a.v(null,b)},1E3),e=Ga(c),f=aa(c);c()},Ka=function(a){a&&a.forEach(function(b){var c=Ea(function(){var d=w("data-view-pixel",b);d&&(Ja(d),null===b||void 0===b?
void 0:b.removeAttribute("data-view-pixel"))},1E3);Ia(b,c)})},La=function(a,b){var c=null,d=null;a.addEventListener("touchstart",function(e){c=e.touches[0].pageX});a.addEventListener("touchmove",function(e){null===c&&(c=e.touches[0].pageX);d=e.touches[0].pageX});a.addEventListener("touchend",function(){null!==c&&null!==d&&b(d-c);c=d=null})},xb=function(a){if(gb["default"].isSupported("touch")){var b=v("[data-track-swipe]"),c=v("[data-trackswipe]"),d=function(e){var f=Math.abs(e);if(30<f){var g=z("[data-view-pixel]");
Ka(g);a.s({direction:0>e?"left":"right",length:f})}};b?La(b,d):c&&La(c,d)}},yb=function(a,b){var c=Date.now();b=z("img",b);var d=b.length,e=0,f=function(){++e===d&&a.vc({delay:Date.now()-c})};b.forEach(function(g){null!==w("data-lazy",g)&&null!==w("data-src",g)?g.addEventListener("load",function(){g.src===g.dataset.src&&f()}):g.complete?f():g.addEventListener("load",f)})},zb=function(a){var b=a.campaignId,c=a.idType,d=a.slotName,e=a.market,f={eventV1:{anonymizedRequestId:a.anonymizedRequestId,campaignId:b,
slotName:d,idType:c,market:e,customerId:a.customerId,sessionId:a.sessionId,lob:a.lob},eventV2:{campaignId:b,slotName:d,idType:c,market:e,joinId:a.joinId}},g=function(h,l,m){try{var k=va["default"],t=k.event,n=y.__assign({},f[l]);if(m)for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(n[p]=m[p]);t.call(k,n,"base-be",kb[h],{ssd:!0})}catch(q){O(q)}};return{i:g.bind(null,"i","eventV1"),v:g.bind(null,"v","eventV1"),vc:g.bind(null,"vc","eventV1"),c:g.bind(null,"c","eventV1"),s:g.bind(null,"s","eventV1"),
ss:g.bind(null,"ss","eventV1"),ia:g.bind(null,"ia","eventV1"),iv2:g.bind(null,"iv2","eventV2"),e:function(h){g("e","eventV1",h&&{name:h.name,message:h.message,stack:h.stack})}}},Ma=function(a){var b=qb(a);var c=tb(a).mid;b=zb({anonymizedRequestId:pb(),campaignId:b,idType:sb(a),slotName:ub(),market:c,customerId:null,sessionId:null,lob:"UNKNOWN",joinId:null});b.i({asins:[].map.call(z("[data-asin]",a),ma),creativeType:ha(),creativeVariation:ia(a),version:ka(a),viewport:la(),weblabs:ja(a)});ob(b,a);yb(b,
a);wb(b,a);xb(b);b.ia&&b.ia({asins:[].map.call(z("[data-asin]",a),ma),creativeType:ha(),creativeVariation:ia(a),version:ka(a),viewport:la(),weblabs:ja(a),adIndex:Da(a),adId:Ca(a)});b.iv2&&b.iv2({asins:[].map.call(z("[data-asin]",a),ma),creativeType:ha(),creativeVariation:ia(a),version:ka(a),viewport:la(),weblabs:ja(a),adIndex:Da(a),adId:Ca(a)})},x=function(a,b){void 0===b&&(b=1);va["default"].count("sbxGwentClient"+a,b)},P={log:function(a){var b=K().defaultView;var c=rb();(b=c&&b.sbxGwentClient&&
"number"===typeof b.sbxGwentClient[c]?Date.now()-b.sbxGwentClient[c]:null)?x(a,b):x("NoPageTime")}},Ab=function(a){var b=a.url,c=a.onSuccess,d=a.onError;b||d();hb["default"].get(b,{success:function(e){e&&"ok"===e.status?c(e):d()},error:d,abort:d})},na;(na||(na={})).adFeedbackHandler="adFeedbackHandler";var Bb=function(a,b,c,d,e){try{var f=JSON.parse(a),g=y.__read(f,6),h=g[0],l=g[1],m=g[2],k=g[3],t=g[4],n=g[5],p=[];Array.isArray(h)?h.forEach(function(u){return p.push({campaignId:c,creativeId:u})}):
p.push({campaignId:c,creativeId:h});var q={adCreativeMetaData:{adCreativeId:Array.isArray(h)?h[0]:h,adId:b,adImpressionId:l,adNetwork:"aax",adProgramId:1010,adCreativeDetails:p},adPlacementMetaData:{adElementId:m,pageType:k,pageUrl:t,searchTerms:n,slotName:d,adProgramId:1010}};return e+"?pl="+encodeURIComponent(JSON.stringify(q))}catch(u){return null}},Na=function(a){var b=ea["default"].setup().define,c=!!w("data-ad-feedback-clicks"),d=!!w("data-ad-feedback-simulate"),e=a||"AdFeedbackSuccess",f="AdFeedbackPlaceholderClick",
g=!1;c&&b(na.adFeedbackHandler,"click",function(){P.log(f);"AdFeedbackPlaceholderClick"===f&&(g=!0)});a=w("data-ad-feedback");b=w("data-ad-feedback-url")||"/gp/aq-feedback/lazyLoad/handler/af-link-handler.html";if(a){c=w("data-slot");var h=w("data-aid"),l=w("data-cid");a=Bb(a,h,l,c,b);Ab({url:a,onSuccess:function(m){var k=m.html;var t=v('[data-id="afb-content"]');t&&k?(t.innerHTML=k,k=t):k=null;if(m=m.script)t=K().createElement("script"),t.type="text/javascript",t.innerHTML=m,v().appendChild(t);P.log(e);
f="AdFeedbackLinkClick";k&&g&&d&&((m=v("a",k))?(m.click(),m=!0):m=!1,P.log(m?"AdFeedbackSimulateClickSuccess":"AdFeedbackSimulateClickFail"))},onError:function(){P.log("AdFeedbackFallback");g&&d&&P.log("AdFeedbackSimulateClickFail")}})}},V=function(a,b){var c,d=[];try{for(var e=y.__values(a.split(/[-_]/)),f=e.next();!f.done;f=e.next()){var g=f.value;d.push(g.charAt(0).toUpperCase()+g.slice(1));if("creativeLevel"===b&&("desktop"===g||"mobile"===g))break}}catch(l){var h={error:l}}finally{try{f&&!f.done&&
(c=e.return)&&c.call(e)}finally{if(h)throw h.error;}}return d.join("")},Db=function(a,b,c,d,e,f,g,h,l,m,k){return y.__awaiter(void 0,void 0,void 0,function(){var t,n,p;return y.__generator(this,function(q){switch(q.label){case 0:t=function(){return{adCreativeMetaData:{adCreativeDetails:Cb(b,h,l,m,k)},adFeedbackLabelId:a}},n=function(u){var r=u.baseMessage,A=u.deviceType,C=u.tabletEnv,E=u.slotName;E=y.__read([V(u.creativeId,"creativeLevel"),V(E,"slotLevel")],2);u=E[0];E=E[1];x(r);A&&(A=r+"_"+A,C&&
(A+="_"+C),x(A));u&&x(r+"_"+u);E&&x(r+"_"+E)},q.label=1;case 1:return q.trys.push([1,3,,4]),[4,c(t)];case 2:return q.sent(),n({baseMessage:"EnableAdFeedbackSuccess",deviceType:d,tabletEnv:e,creativeId:f,slotName:g}),[3,4];case 3:return p=q.sent(),n({baseMessage:"EnableAdFeedbackFailure",deviceType:d,tabletEnv:e,creativeId:f,slotName:g}),O(p),[3,4];case 4:return[2]}})})},Eb=function(a){if(a){var b=a.split(" ");b.map(function(c,d){0<d&&(b[d]=c.substring(3,c.length))});b.pop();b.shift();return b}},Cb=
function(a,b,c,d,e){var f=[],g=w("data-card-metrics-id")||"",h=w("data-slot")||"";g=y.__read([V(g,"creativeLevel"),V(h,"slotLevel")],2);var l=g[0],m=g[1];e&&e()!==a.length&&(a=a.filter(function(k){return v('[data-aid="'+k.adId+'"]')}));a.forEach(function(k,t){var n='[data-aid="'+k.adId+'"]';for(var p=v(n),q=b&&b()||document.body,u,r=0;(c?r<c.length:0>r)&&!(u=v(n+' div[class*="'+(null===c||void 0===c?void 0:c[r])+'"] img'));r++);u?x("AfImagePresent_"+l):x("AfImageMissing_"+l);n=(null===u||void 0===
u?void 0:u.getAttribute("src"))||void 0;r=Eb((null===u||void 0===u?void 0:u.getAttribute("srcset"))||void 0);var A=(null===r||void 0===r?void 0:r.length)||1;u=[];for(var C=0;C<A;C++)u.push({url:(null===r||void 0===r?void 0:r[C])||""});n={url:n?n:""};sa("SelectionSignals",k.selectionSignals,l,m);sa("AdvertiserIdNS",k.advertiserIdNS,l,m);if(p){(r=1===a.length||d)||(p=Y(p),q?((r=v('div[data-index="'+t+'"]'))?r=0===r.offsetHeight&&0===r.offsetWidth?!0:!1:(Q["default"].log("container Element for ad number "+
t+" is not found","WARN","DSA/AdFeedback"),r=!0),r?r=!1:(q=Y(q),p.left===q.left||p.right===q.right?q=Z(p.left,q.left,q.right)||Z(p.right,q.left,q.right):(r=p.left,(r=r>q.left&&r<q.right)||(p=p.right,r=p>q.left&&p<q.right),q=r),r=q)):r=void 0);if(r){q=f.push;p=k.campaignId;r=k.adId;A=k.title;u={lowResolutionImage:ta(n),highResolutionImages:ta(u)};if(k.selectionSignals){n=k.selectionSignals;switch(n.pastActivity){case "STORE_ONLY":C=1;break;default:C=0}n=y.__assign(y.__assign({},n),{pastActivity:C})}else n=
void 0;q.call(f,{campaignId:p,adId:r,adCreativeIndex:t,title:A,adCreativeImage:u,selectionSignals:n,advertiserIdNS:k.advertiserIdNS})}x("adElementPresent_"+l)}else x("adElementMissing"),Q["default"].log("adElement is not found: "+JSON.stringify(k),"WARN","DSA/AdFeedback"),x("adElementMissing_"+l)});return f},Oa=function(){z('[data-id="cta"]').forEach(function(a){if(a.parentElement){var b=v('[data-id*="cta-fallback"]',a.parentElement),c=v(".a-truncate",a),d=v(".a-truncate-full",a);c&&d&&(d.clientHeight>
c.clientHeight&&b?(b.style.display="block",a.parentElement.removeChild(a)):(b=a.parentElement.getAttribute("aria-hidden"),b&&"false"!==b||(b=a.getAttribute("data-label")||d.innerHTML,a.parentElement.setAttribute("aria-label",b)),(c=v('[data-id*="cta-chevron"]',a))&&!d.hasAttribute("data-chevron")&&(d.setAttribute("data-chevron","true"),a=d.innerHTML.split(" "),b=a.pop(),c=c.innerHTML,d.innerHTML="<span>"+a.join(" ")+" </span><span>"+b+"&nbsp;"+c+"</span>")))}})},Fb=function(a){var b=w("data-src",
a)||"",c=w("data-srcset",a)||"",d=a.cloneNode();d.removeAttribute("data-src");d.removeAttribute("data-srcset");d.removeAttribute("data-lazy");d.srcset=c;d.src=b;a.parentNode&&a.parentNode.insertBefore(d,a);d.onload=function(){a.style.opacity="0";P.log("LazyLoaded")}},Gb=function(){var a=z('[class*="eelModalRoot"]');a&&a.forEach(function(b,c){var d=w("data-modal-trigger",b),e=w("data-title",b),f=w("data-modal-settings",b);f=JSON.parse(f||"{}");if(d){c="eel-cards-modal-"+c;var g="."+b.className.split(" ")[0],
h=wa["default"].create(c,g,{closeButton:(null===f||void 0===f?void 0:f.closeButton)||!1,a11yOpenMessage:e||"Energy Efficiency & Product Fiche",width:(null===f||void 0===f?void 0:f.width)||800});e=da.setup();f=e.define;e=e.attach;h.once("beforeShow",function(){R["default"].loadDescendantImagesManually(b)});f("modal-handler-"+d,["click"],function(){h.show()});f("modal-close-handler-"+d,["click"],function(){h.hide()});f=v('[data-mix-operations="modal-handler-'+d+'"]');d=v('[data-mix-operations="modal-close-handler-'+
d+'"]');f&&d&&(e("modalHandler",f),e("modalClose",d))}})},Hb=function(a){var b=function(d,e){d={$event:{preventDefault:R["default"].$.noop,stopPropagation:R["default"].$.noop},$target:d.getContent().find('[data-a-tab-name="'+e+'"]'),data:{name:"energyEfficiencyTabSet"}};R["default"].trigger("a:declarative:a-tabs:click",d)},c=function(d,e){var f=d&&d.$event,g=d&&d.data||{},h=g.name;f&&f.preventDefault&&f.preventDefault();f&&f.stopPropagation&&f.stopPropagation();d&&f&&g&&h&&e&&(f=e.get(h),f||(R["default"].on("a:popover:beforeShow:"+
h,function(l){var m,k,t;l.popover&&l.popover.getContent&&(l=l.popover.getContent(),null===(k=null===(m=null===l||void 0===l?void 0:l.find(".a-manually-loaded"))||void 0===m?void 0:m.parent())||void 0===k?void 0:k.css("min-height",null!==(t=g.modalHeight)&&void 0!==t?t:800),R["default"].loadDescendantImagesManually(l))}),f=e.create(d.$target,g)),f&&(f.show(),g.activeTabName&&b(f,g.activeTabName)))};a&&a.when("a-secondary-view").execute("RegisterEnergyEfficiencyEventMobile",function(d){R["default"].declarative("card-energy-efficiency-secondary-view",
"click",function(e){c(e,d)})})},Jb=function(){z("span[data-ad-deal-end-time]").forEach(function(a){var b=w("data-ad-deal-end-time",a);a&&null!==b&&Ib(a,b)})},Ib=function(a,b){var c=ra.interval(function(){var d=(new Date(b)).getTime(),e=Date.now();e=Math.floor((d-e)/1E3);if(0>e)clearInterval(c);else{var f=Math.floor(e/60%60);d=Math.floor(e%60);e=("0"+Math.floor(e/3600%24)).slice(-2);f=("0"+f).slice(-2);d=("0"+d).slice(-2);a.innerText=e+":"+f+":"+d}},1E3)},Kb=function(a,b){return function(){var c,d=
z("[data-pixel]"),e=0;try{for(var f=y.__values(d),g=f.next();!g.done;g=f.next()){var h=g.value,l=a,m=Y(h),k=Y(l);if(Z(m.left,k.left,k.right)||Z(m.right,k.left,k.right)){var t=h.getAttribute("data-pixel");t&&t.length&&((new Image).src=t);h.removeAttribute("data-pixel");++e}}}catch(p){var n={error:p}}finally{try{g&&!g.done&&(c=f.return)&&c.call(f)}finally{if(n)throw n.error;}}n=z("[data-view-pixel]");e===d.length&&0===n.length?b():Ka(n)}},Lb=function(a,b){var c=Kb(a,function(){d();e();"function"===
typeof b&&b()}),d=Ga(c,{el:a}),e=aa(c);c();return c},Mb=function(){},Pa=function(a){a.setAttribute("disabled","disabled");if(a=fa(".a-button",a))a.classList.add("a-button-disabled"),a.classList.remove("a-button-focus")},Qa=function(a){a.removeAttribute("disabled");(a=fa(".a-button",a))&&a.classList.remove("a-button-disabled")},Ra=function(a,b){var c=vb(b,350);a.addEventListener("click",c);return function(){a.removeEventListener("click",c)}},Nb=function(a,b,c){var d=v('[data-id="track"]'),e=v('[data-button="prev"]'),
f=v('[data-button="next"]'),g=12;if(!d||!e||!f)return Mb;var h=!!K().querySelector('[dir="rtl"]'),l=0,m=0,k=2,t=function(){var u=c&&c.minWidth||350,r=c&&c.maxWidth||600,A=[[0,0],[2*u,1],[1E3,2],[1500,3],[1900,4]],C=c&&c.borderWidth||0,E=K().defaultView,F=parseInt(E.getComputedStyle(d).width,10);k=(A.find(function(M){return M[0]>F})||[F,4])[1]||0;if(!(1>k)){var B=Math.floor(F/k)+2*C-24;g=12;B>r&&(B=r,g=(F-B*k)/(2*k));B<u&&(B=u,g=(F-B*k)/(2*k));Array.from(d.children).forEach(function(M){M.style.width=
B+"px";M.style.minWidth=B+"px";M.style.maxWidth=B+"px";M.style.marginLeft=g+"px";M.style.marginRight=g+"px"});d.children&&d.children[0]&&(l=parseInt(E.getComputedStyle(d.children[0]).width,10))}},n=function(u){t();u>d.children.length-k&&(u=m=d.children.length-k);d.style.transform="translateX("+(h?"":"-")+u*(l+2*g)+"px)";Qa(e);Qa(f);m===d.children.length-k&&Pa(f);0===m&&Pa(e)};a=function(u){var r="next"===u?1:-1;return function(){m+=r;n(m)}};aa(function(){return n(m)});f.addEventListener("click",a("next"));
e.addEventListener("click",a("prev"));var p=Ra(f,b),q=Ra(e,b);n(m);return function(){p();q()}},T=function(a,b){return a.querySelector("[class*="+b+"]")},Ob=function(a,b,c){a=JSON.parse(a);a.adCreativeMetaData=b.adCreativeMetaData;a.feedbackFormContainerId=c;return encodeURI(JSON.stringify(a))},Pb=function(a,b,c,d){return y.__awaiter(void 0,void 0,void 0,function(){var e,f,g,h,l,m,k,t;return y.__generator(this,function(n){e="adFeedbackModal_"+a;n=(null===(t=T(b,"ad-feedback-modal-container"))||void 0===
t?void 0:t.className)||"";f="."+b.className+" ."+n.replace(" ",".");h=(g=c().adCreativeMetaData.adCreativeDetails)?g.length:0;l=b.dataset.deviceType||"desktop";n=Math.max(560,125*h+130);var p=h;var q=l;p=d&&"true"===d.toLowerCase()?2>p?605:810:"tablet"==q?2>p?545:775:2>p?430:645;m={a11yOpenMessage:"",width:n,height:p};try{return k=wa["default"].create(e,f,m),[2,k]}catch(u){throw D.count("adfeedback:cards:clientDesktop:modalCreation:failure",1),Error("Modal Creation Failed : "+u);}})})},Sb=function(a,
b,c,d,e,f){var g="rtl"===document.getElementsByTagName("html")[0].dir?"ad-feedback-loading-spinnner-rtl":"ad-feedback-loading-spinnner";var h=T(I["default"].cardRoot,g);a.on("beforeShow",function(){return y.__awaiter(void 0,void 0,void 0,function(){var l;return y.__generator(this,function(m){switch(m.label){case 0:return l=Qb(a,b,c),[4,a.render(function(k){var t="250px",n=c().adCreativeMetaData.adCreativeDetails;n&&2>n.length&&(t="150px");h.style.marginTop=t;k.innerHTML="";t=k.appendChild;n=document.getElementsByTagName("html")[0].dir;
var p=I["default"].createElement("div"),q=I["default"].createElement("div");p.innerHTML=e;"rtl"===n?(p.setAttribute("style",'box-sizing: border-box; color: rgb(15, 17, 17); font-family: "Amazon Ember", Arial, sans-serif; font-size: 16px; font-weight: 700; line-height: 24px; margin-bottom: 0px; margin-left: 28px; margin-right: 0px; margin-top: 0px; min-height: 56px; padding-bottom: 16px; padding-left: 0px; padding-right: 25px; padding-top: 16px; text-align: right; text-rendering: optimizelegibility; visibility: visible;'),
q.setAttribute("style",'background-attachment: scroll; background-clip: border-box; background-color: rgb(240, 242, 242); background-image: linear-gradient(to left, #EFEFEF 66.72%, #FFFFFF); background-origin: padding-box; background-position: 0% 0%; background-position-x: 0%; background-position-y: 0%; background-repeat: repeat; background-size: auto; border-bottom-color: rgb(213, 217, 217); border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; border-top-left-radius: 8px; border-top-right-radius: 8px; box-sizing: border-box; color: rgb(15, 17, 17); display: block; font-family: "Amazon Ember", Arial, sans-serif; font-size: 14px; line-height: 20px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 24px; padding-right: 24px; padding-top: 0px; position: relative; text-align: right; visibility: visible; z-index: 10;')):
(p.setAttribute("style",'box-sizing: border-box; color: rgb(15, 17, 17); font-family: "Amazon Ember", Arial, sans-serif; font-size: 16px; font-weight: 700; line-height: 24px; margin-bottom: 0px; margin-left: 0px; margin-right: 28px; margin-top: 0px; min-height: 56px; padding-bottom: 16px; padding-left: 25px; padding-right: 0px; padding-top: 16px; text-align: left; text-rendering: optimizelegibility; visibility: visible;'),q.setAttribute("style",'background-attachment: scroll; background-clip: border-box; background-color: rgb(240, 242, 242); background-image: linear-gradient(to right, #EFEFEF 66.72%, #FFFFFF); background-origin: padding-box; background-position: 0% 0%; background-position-x: 0%; background-position-y: 0%; background-repeat: repeat; background-size: auto; border-bottom-color: rgb(213, 217, 217); border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; border-top-left-radius: 8px; border-top-right-radius: 8px; box-sizing: border-box; color: rgb(15, 17, 17); display: block; font-family: "Amazon Ember", Arial, sans-serif; font-size: 14px; line-height: 20px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 24px; padding-right: 24px; padding-top: 0px; position: relative; text-align: left; visibility: visible; z-index: 10;'));
q.appendChild(p);t.call(k,q);t=document.getElementsByTagName("html")[0].dir;n=I["default"].createElement("div");"rtl"===t?n.setAttribute("style","padding-bottom: 16px; padding-right: 50px ; padding-top: 16px; justify-content: center; align-items: center;"):n.setAttribute("style","padding-bottom: 16px; padding-left: 50px ; padding-top: 16px; justify-content: center; align-items: center;");Rb(h,n,d,l,f);k.appendChild(n)})];case 1:return m.sent(),[2]}})})})},Qb=function(a,b,c){c=c();var d=c.adCreativeMetaData.adCreativeDetails;
null===d||void 0===d?void 0:d.sort(function(e,f){return e.adCreativeIndex<f.adCreativeIndex?-1:1});return Ob(b,c,a.id)},Rb=function(a,b,c,d,e){b.appendChild(a);"function"==typeof D.uet&&D.uet("bb","adfeedback:cards:clientDesktop:fetchFormContent:time",{wb:1});jb["default"].post("/af/multi-creative/feedback-form",{accepts:"application/json",contentType:"application/json",additionalHeaders:{"Accept-Language":""===c?"en-US":c}},{pl:d,deviceType:"desktop"}).then(function(f){return y.__awaiter(void 0,
void 0,void 0,function(){var g,h,l;return y.__generator(this,function(m){"function"==typeof D.uet&&D.uet("be","adfeedback:cards:clientDesktop:fetchFormContent:time",{wb:1});D.count("adfeedback:cards:clientDesktop:fetchFormContent:success",1);g=I["default"].createElement("div");g.innerHTML=String(f.responseBody);for(h=0;h<g.children.length;++h)l=g.children[h],"SCRIPT"===l.tagName?oa("script",l,b):"LINK"===l.tagName?oa("link",l,b):oa("div",l,b);b.removeChild(a);return[2]})})}).catch(function(){"function"==
typeof D.uet&&D.uet("be","adfeedback:cards:clientDesktop:fetchFormContent:time",{wb:1});D.count("adfeedback:cards:clientDesktop:fetchFormContent:failure",1);b.innerHTML=e});"function"==typeof D.uex&&D.uex("ld","adfeedback:cards:clientDesktop:fetchFormContent:time",{wb:1})},oa=function(a,b,c){var d=I["default"].createElement(a);d.innerHTML=b.innerHTML;b.getAttributeNames().forEach(function(e){d.setAttribute(e,b.getAttribute(e)||"")});c.appendChild(d)},Sa={},Tb=function(a,b){return y.__awaiter(void 0,
void 0,void 0,function(){var c,d,e,f,g,h,l,m,k;return y.__generator(this,function(t){c=T(a,"ad-feedback-primary-link");d=b().adFeedbackLabelId;e=ea["default"].setup();f="open-modal"+d;g=b().adCreativeMetaData.adCreativeDetails;h=a.dataset;l=h.isDsaEnabled;m=h.weblabTreatment;k=String(l);"undefined"===k&&(k=g&&0<g.length?g[0].selectionSignals?"true":"false":"false");"true"===k&&"T1"!==m&&(k="false");e.attach(f,c);e.define(f,"click",function(){return y.__awaiter(void 0,void 0,void 0,function(){var n;
return y.__generator(this,function(p){switch(p.label){case 0:return(n=Sa[d])?[3,2]:[4,Pb(d,a,b,k)];case 1:n=p.sent();var q=a.dataset,u=q.formHeaderText,r=q.dsaFormHeaderText;Sb(n,q.adFeedbackPayload,b,q.currentLocale,"true"===k?r:u,q.formLoadErrorText);Sa[d]=n;p.label=2;case 2:return n.show(),[2]}})})});return[2]})})},Ub=function(a,b){var c=ea["default"].setup(),d="mouse-enter"+b;b="mouse-leave"+b;var e=T(a,"ad-feedback-primary-link"),f=T(a,"ad-feedback-text-desktop"),g=T(a,"ad-feedback-sprite");
c.attach(d,e);c.define(d,"mouseenter",function(){g.style.backgroundPosition="0px -12px";f.style.color="#111111"});c.attach(b,e);c.define(b,"mouseleave",function(){g.style.backgroundPosition="0px 0px";f.style.color="#555"})},ba;(function(a){a.thematic="thematic";a.nonThematic="nonThematic"})(ba||(ba={}));var W,Wb=function(a){return function(){return y.__awaiter(void 0,void 0,void 0,function(){var b,c,d,e,f,g,h,l,m,k,t,n,p,q,u,r,A,C,E;return y.__generator(this,function(F){switch(F.label){case 0:return P.log("Loaded"),
b=a||{},c=b.loadAdFeedback,d=b.onLoad,e=b.onInit,f=b.isMobile,g=b.enableAdFeedback,h=b.creativeContainer,l=b.creativeImageContainer,m=b.bypassAdFeedbackViewportCheck,k=b.renderedAdsCount,e&&e(),[4,fb["default"].pageReady];case 1:F.sent();P.log("Ready");try{var B=v(".sbx-no-js",void 0);B&&B.classList.remove("sbx-no-js");try{var M=z("[data-cid]");M.length?M.forEach(Ma):Ma()}catch(L){O(L)}try{Oa(),aa(Oa)}catch(L){O(L)}try{z('img[data-lazy="true"]').forEach(Fb)}catch(L){O(L)}v('[class*="eelModalRoot"]')?
Gb():v('[data-action*="card-energy-efficiency-"]')&&Hb(window.P);var Ta,pa;if(!("-webkit-line-clamp"in I["default"].cardRoot.ownerDocument.body.style||"lineClamp"in I["default"].cardRoot.ownerDocument.body.style)){var Ua=z('[class*="_sbTruncatedTitle_"]');if(Ua.length)try{for(var ca=y.__values(Ua),X=ca.next();!X.done;X=ca.next()){var N=X.value,Vb=parseInt(N.getAttribute("data-totallines")||"1"),Va=Math.ceil(parseFloat((null===(pa=I["default"].cardRoot.ownerDocument.defaultView)||void 0===pa?void 0:
pa.getComputedStyle(N).lineHeight)||"1.3em"))*Vb;if(!(N.scrollHeight<=Va)){for(;N.scrollHeight>Va;)N.innerText=N.innerText.slice(0,-1);N.innerText=N.innerText.slice(0,-3);N.innerText+="\u2026"}}}catch(L){var Wa={error:L}}finally{try{X&&!X.done&&(Ta=ca.return)&&Ta.call(ca)}finally{if(Wa)throw Wa.error;}}}d&&d();w("data-deal-badge-automated")&&w("data-ad-deal-end-time")&&Jb();B=f;if(void 0!==B&&!window.sbxGwentClientDPR)try{window.sbxGwentClientDPR=!0,x((B?"Mobile":"Desktop")+"DPR"+(4>=Math.round(2*
window.devicePixelRatio)/2?Math.round(2*window.devicePixelRatio)/2:"4Plus"))}catch(L){O(L)}}catch(L){O(L)}t=w("data-ad-feedback-label-id");n=w("data-ad-creative-list");p=w("data-device-type")||"";q=w("data-tablet-env")||"";u=w("data-card-metrics-id")||"";r=w("data-slot")||"";A=V(u,"creativeLevel");if(!t||!n)return[3,6];F.label=2;case 2:return F.trys.push([2,4,,5]),C=JSON.parse(n),[4,Db(t,C,g,p,q,u,r,h,l,m,k)];case 3:return F.sent(),x("NewAdFeedbackImplementationEnabled_"+A),[3,5];case 4:return E=
F.sent(),c&&Na(),O("Failed to generate adFeedback rendering payload: "+E,"DSA/AdFeedback"),x("FallbackToOldAdFeedbackImplementation_"+A),[3,5];case 5:return[3,7];case 6:c&&Na(),x("FallbackToOldAdFeedbackImplementation_"+A),O("Missing adFeedbackLabelId or adCreativeList","DSA/AdFeedback"),F.label=7;case 7:return[2]}})})}}({onLoad:function(){W=v('[data-id="carousel"]');var a=z("[data-var*='thematic']").length;if(a){var b=da.setup().define;b(ba.thematic,"click",function(){x("MultiBrandCreativeDesktop_thematics_ThematicCampaignClicked")});
b(ba.nonThematic,"click",function(){x("MultiBrandCreativeDesktop_thematics_NonThematicCampaignClicked")});x("MultiBrandCreativeDesktop_thematics_thematicAdsCount",a);b=z("[data-var]").length;x("MultiBrandCreativeDesktop_thematics_renderedAdsCount",b);x("MultiBrandCreativeDesktop_thematics_renderedAdsRatio",a/b)}if(W){var c=function(){};a=Lb(W,function(){c()});v('[data-enhanced-mbc="true"]')&&(c=Nb(W,a,{minWidth:304,maxWidth:460,borderWidth:1,isLifestyle:!0}))}},loadAdFeedback:!0,enableAdFeedback:function(a){return y.__awaiter(void 0,
void 0,void 0,function(){var b,c,d,e;return y.__generator(this,function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),b=a(),c=ib["default"].cardRoot.getElementsByClassName("adFeedbackMainComponent_"+b.adFeedbackLabelId)[0],d=c.dataset.isSponsoredLabelActive,"false"===(d||"false").toLowerCase()?[2]:[4,Ub(c,b.adFeedbackLabelId)];case 1:return f.sent(),[4,Tb(c,a)];case 2:return f.sent(),[3,4];case 3:throw e=f.sent(),D.count("adfeedback:cards:clientDesktop:enableAdFeedback:failure",1),Error("Failed to call enableAdFeedback for desktop client : "+
e);case 4:return[2]}})})},creativeContainer:function(){return W},creativeImageContainer:["mainImage","customImageContainer"]});qa._operationNames=[];qa.card=Wb});
